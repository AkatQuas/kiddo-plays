{
  "version": 3,
  "sources": ["../../../../../../../../front_end/ui/legacy/components/inline_editor/CSSShadowEditor.ts"],
  "sourcesContent": ["// Copyright 2016 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../../../core/common/common.js';\nimport * as i18n from '../../../../core/i18n/i18n.js';\nimport * as Platform from '../../../../core/platform/platform.js';\nimport * as UI from '../../legacy.js';\n\nimport type {CSSShadowModel} from './CSSShadowModel.js';\nimport {CSSLength} from './CSSShadowModel.js';\nimport cssShadowEditorStyles from './cssShadowEditor.css.js';\n\nconst UIStrings = {\n  /**\n  *@description Text that refers to some types\n  */\n  type: 'Type',\n  /**\n  *@description Text in CSSShadow Editor of the inline editor in the Styles tab\n  */\n  xOffset: 'X offset',\n  /**\n  *@description Text in CSSShadow Editor of the inline editor in the Styles tab\n  */\n  yOffset: 'Y offset',\n  /**\n  * @description Text in CSSShadow Editor of the inline editor in the Styles tab. Noun which is a\n  * label for an input that allows the user to specify how blurred the box-shadow should be.\n  */\n  blur: 'Blur',\n  /**\n  *@description Text in CSSShadow Editor of the inline editor in the Styles tab\n  */\n  spread: 'Spread',\n};\nconst str_ = i18n.i18n.registerUIStrings('ui/legacy/components/inline_editor/CSSShadowEditor.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst maxRange: number = 20;\nconst defaultUnit: string = 'px';\nconst sliderThumbRadius: number = 6;\nconst canvasSize: number = 88;\n\nexport class CSSShadowEditor extends Common.ObjectWrapper.eventMixin<EventTypes, typeof UI.Widget.VBox>(\n    UI.Widget.VBox) {\n  private readonly typeField: HTMLElement;\n  private readonly outsetButton: HTMLElement;\n  private readonly insetButton: HTMLElement;\n  private xInput: HTMLInputElement;\n  private yInput: HTMLInputElement;\n  private xySlider: HTMLCanvasElement;\n  private halfCanvasSize: number;\n  private readonly innerCanvasSize: number;\n  private blurInput: HTMLInputElement;\n  private blurSlider: HTMLInputElement;\n  private readonly spreadField: HTMLElement;\n  private spreadInput: HTMLInputElement;\n  private spreadSlider: HTMLInputElement;\n  private model!: CSSShadowModel;\n  private canvasOrigin!: UI.Geometry.Point;\n  private changedElement?: HTMLInputElement|null;\n  constructor() {\n    super(true);\n    this.contentElement.tabIndex = 0;\n    this.setDefaultFocusedElement(this.contentElement);\n\n    this.typeField = this.contentElement.createChild('div', 'shadow-editor-field shadow-editor-flex-field');\n    this.typeField.createChild('label', 'shadow-editor-label').textContent = i18nString(UIStrings.type);\n    this.outsetButton = this.typeField.createChild('button', 'shadow-editor-button-left');\n    this.outsetButton.textContent = i18n.i18n.lockedString('Outset');\n    this.outsetButton.addEventListener('click', this.onButtonClick.bind(this), false);\n    this.insetButton = this.typeField.createChild('button', 'shadow-editor-button-right');\n    this.insetButton.textContent = i18n.i18n.lockedString('Inset');\n    this.insetButton.addEventListener('click', this.onButtonClick.bind(this), false);\n\n    const xField = this.contentElement.createChild('div', 'shadow-editor-field');\n    this.xInput = this.createTextInput(xField, i18nString(UIStrings.xOffset));\n    const yField = this.contentElement.createChild('div', 'shadow-editor-field');\n    this.yInput = this.createTextInput(yField, i18nString(UIStrings.yOffset));\n    this.xySlider = (xField.createChild('canvas', 'shadow-editor-2D-slider') as HTMLCanvasElement);\n    this.xySlider.width = canvasSize;\n    this.xySlider.height = canvasSize;\n    this.xySlider.tabIndex = -1;\n    this.halfCanvasSize = canvasSize / 2;\n    this.innerCanvasSize = this.halfCanvasSize - sliderThumbRadius;\n    UI.UIUtils.installDragHandle(this.xySlider, this.dragStart.bind(this), this.dragMove.bind(this), null, 'default');\n    this.xySlider.addEventListener('keydown', this.onCanvasArrowKey.bind(this), false);\n    this.xySlider.addEventListener('blur', this.onCanvasBlur.bind(this), false);\n\n    const blurField =\n        this.contentElement.createChild('div', 'shadow-editor-field shadow-editor-flex-field shadow-editor-blur-field');\n    this.blurInput = this.createTextInput(blurField, i18nString(UIStrings.blur));\n    this.blurSlider = this.createSlider(blurField);\n\n    this.spreadField = this.contentElement.createChild('div', 'shadow-editor-field shadow-editor-flex-field');\n    this.spreadInput = this.createTextInput(this.spreadField, i18nString(UIStrings.spread));\n    this.spreadSlider = this.createSlider(this.spreadField);\n  }\n\n  private createTextInput(field: Element, propertyName: string): HTMLInputElement {\n    const label = field.createChild('label', 'shadow-editor-label');\n    label.textContent = propertyName;\n    label.setAttribute('for', propertyName);\n    const textInput = UI.UIUtils.createInput('shadow-editor-text-input', 'text');\n    field.appendChild(textInput);\n    textInput.id = propertyName;\n    textInput.addEventListener('keydown', this.handleValueModification.bind(this), false);\n    textInput.addEventListener('wheel', this.handleValueModification.bind(this), false);\n    textInput.addEventListener('input', this.onTextInput.bind(this), false);\n    textInput.addEventListener('blur', this.onTextBlur.bind(this), false);\n    return textInput;\n  }\n\n  private createSlider(field: Element): HTMLInputElement {\n    const slider = UI.UIUtils.createSlider(0, maxRange, -1);\n    slider.addEventListener('input', this.onSliderInput.bind(this), false);\n    field.appendChild(slider);\n    return slider as HTMLInputElement;\n  }\n\n  wasShown(): void {\n    this.registerCSSFiles([cssShadowEditorStyles]);\n    this.updateUI();\n  }\n\n  setModel(model: CSSShadowModel): void {\n    this.model = model;\n    this.typeField.classList.toggle('hidden', !model.isBoxShadow());\n    this.spreadField.classList.toggle('hidden', !model.isBoxShadow());\n    this.updateUI();\n  }\n\n  private updateUI(): void {\n    this.updateButtons();\n    this.xInput.value = this.model.offsetX().asCSSText();\n    this.yInput.value = this.model.offsetY().asCSSText();\n    this.blurInput.value = this.model.blurRadius().asCSSText();\n    this.spreadInput.value = this.model.spreadRadius().asCSSText();\n    this.blurSlider.value = this.model.blurRadius().amount.toString();\n    this.spreadSlider.value = this.model.spreadRadius().amount.toString();\n    this.updateCanvas(false);\n  }\n\n  private updateButtons(): void {\n    this.insetButton.classList.toggle('enabled', this.model.inset());\n    this.outsetButton.classList.toggle('enabled', !this.model.inset());\n  }\n\n  private updateCanvas(drawFocus: boolean): void {\n    const context = this.xySlider.getContext('2d');\n    if (!context) {\n      throw new Error('Unable to obtain canvas context');\n    }\n    context.clearRect(0, 0, this.xySlider.width, this.xySlider.height);\n\n    // Draw dashed axes.\n    context.save();\n    context.setLineDash([1, 1]);\n    context.strokeStyle = 'rgba(210, 210, 210, 0.8)';\n    context.beginPath();\n    context.moveTo(this.halfCanvasSize, 0);\n    context.lineTo(this.halfCanvasSize, canvasSize);\n    context.moveTo(0, this.halfCanvasSize);\n    context.lineTo(canvasSize, this.halfCanvasSize);\n    context.stroke();\n    context.restore();\n\n    const thumbPoint = this.sliderThumbPosition();\n    // Draw 2D slider line.\n    context.save();\n    context.translate(this.halfCanvasSize, this.halfCanvasSize);\n    context.lineWidth = 2;\n    context.strokeStyle = 'rgba(130, 130, 130, 0.75)';\n    context.beginPath();\n    context.moveTo(0, 0);\n    context.lineTo(thumbPoint.x, thumbPoint.y);\n    context.stroke();\n    // Draw 2D slider thumb.\n    if (drawFocus) {\n      context.beginPath();\n      context.fillStyle = 'rgba(66, 133, 244, 0.4)';\n      context.arc(thumbPoint.x, thumbPoint.y, sliderThumbRadius + 2, 0, 2 * Math.PI);\n      context.fill();\n    }\n    context.beginPath();\n    context.fillStyle = '#4285F4';\n    context.arc(thumbPoint.x, thumbPoint.y, sliderThumbRadius, 0, 2 * Math.PI);\n    context.fill();\n    context.restore();\n  }\n\n  private onButtonClick(event: Event): void {\n    const insetClicked = (event.currentTarget === this.insetButton);\n    if (insetClicked && this.model.inset() || !insetClicked && !this.model.inset()) {\n      return;\n    }\n    this.model.setInset(insetClicked);\n    this.updateButtons();\n    this.dispatchEventToListeners(Events.ShadowChanged, this.model);\n  }\n\n  private handleValueModification(event: Event): void {\n    const target = (event.currentTarget as HTMLInputElement);\n    const modifiedValue = UI.UIUtils.createReplacementString(target.value, event, customNumberHandler);\n    if (!modifiedValue) {\n      return;\n    }\n    const length = CSSLength.parse(modifiedValue);\n    if (!length) {\n      return;\n    }\n    if (event.currentTarget === this.blurInput && length.amount < 0) {\n      length.amount = 0;\n    }\n    target.value = length.asCSSText();\n    target.selectionStart = 0;\n    target.selectionEnd = target.value.length;\n    this.onTextInput(event);\n    event.consume(true);\n\n    function customNumberHandler(prefix: string, number: number, suffix: string): string {\n      if (!suffix.length) {\n        suffix = defaultUnit;\n      }\n      return prefix + number + suffix;\n    }\n  }\n\n  private onTextInput(event: Event): void {\n    const currentTarget = (event.currentTarget as HTMLInputElement);\n    this.changedElement = currentTarget;\n    this.changedElement.classList.remove('invalid');\n    const length = CSSLength.parse(currentTarget.value);\n    if (!length || currentTarget === this.blurInput && length.amount < 0) {\n      return;\n    }\n    if (currentTarget === this.xInput) {\n      this.model.setOffsetX(length);\n      this.updateCanvas(false);\n    } else if (currentTarget === this.yInput) {\n      this.model.setOffsetY(length);\n      this.updateCanvas(false);\n    } else if (currentTarget === this.blurInput) {\n      this.model.setBlurRadius(length);\n      this.blurSlider.value = length.amount.toString();\n    } else if (currentTarget === this.spreadInput) {\n      this.model.setSpreadRadius(length);\n      this.spreadSlider.value = length.amount.toString();\n    }\n    this.dispatchEventToListeners(Events.ShadowChanged, this.model);\n  }\n\n  private onTextBlur(): void {\n    if (!this.changedElement) {\n      return;\n    }\n    let length: (CSSLength|null)|CSSLength =\n        !this.changedElement.value.trim() ? CSSLength.zero() : CSSLength.parse(this.changedElement.value);\n    if (!length) {\n      length = CSSLength.parse(this.changedElement.value + defaultUnit);\n    }\n    if (!length) {\n      this.changedElement.classList.add('invalid');\n      this.changedElement = null;\n      return;\n    }\n    if (this.changedElement === this.xInput) {\n      this.model.setOffsetX(length);\n      this.xInput.value = length.asCSSText();\n      this.updateCanvas(false);\n    } else if (this.changedElement === this.yInput) {\n      this.model.setOffsetY(length);\n      this.yInput.value = length.asCSSText();\n      this.updateCanvas(false);\n    } else if (this.changedElement === this.blurInput) {\n      if (length.amount < 0) {\n        length = CSSLength.zero();\n      }\n      this.model.setBlurRadius(length);\n      this.blurInput.value = length.asCSSText();\n      this.blurSlider.value = length.amount.toString();\n    } else if (this.changedElement === this.spreadInput) {\n      this.model.setSpreadRadius(length);\n      this.spreadInput.value = length.asCSSText();\n      this.spreadSlider.value = length.amount.toString();\n    }\n    this.changedElement = null;\n    this.dispatchEventToListeners(Events.ShadowChanged, this.model);\n  }\n\n  private onSliderInput(event: Event): void {\n    if (event.currentTarget === this.blurSlider) {\n      this.model.setBlurRadius(\n          new CSSLength(Number(this.blurSlider.value), this.model.blurRadius().unit || defaultUnit));\n      this.blurInput.value = this.model.blurRadius().asCSSText();\n      this.blurInput.classList.remove('invalid');\n    } else if (event.currentTarget === this.spreadSlider) {\n      this.model.setSpreadRadius(\n          new CSSLength(Number(this.spreadSlider.value), this.model.spreadRadius().unit || defaultUnit));\n      this.spreadInput.value = this.model.spreadRadius().asCSSText();\n      this.spreadInput.classList.remove('invalid');\n    }\n    this.dispatchEventToListeners(Events.ShadowChanged, this.model);\n  }\n\n  private dragStart(event: MouseEvent): boolean {\n    this.xySlider.focus();\n    this.updateCanvas(true);\n    this.canvasOrigin = new UI.Geometry.Point(\n        this.xySlider.totalOffsetLeft() + this.halfCanvasSize, this.xySlider.totalOffsetTop() + this.halfCanvasSize);\n    const clickedPoint = new UI.Geometry.Point(event.x - this.canvasOrigin.x, event.y - this.canvasOrigin.y);\n    const thumbPoint = this.sliderThumbPosition();\n    if (clickedPoint.distanceTo(thumbPoint) >= sliderThumbRadius) {\n      this.dragMove(event);\n    }\n    return true;\n  }\n\n  private dragMove(event: MouseEvent): void {\n    let point: UI.Geometry.Point = new UI.Geometry.Point(event.x - this.canvasOrigin.x, event.y - this.canvasOrigin.y);\n    if (event.shiftKey) {\n      point = this.snapToClosestDirection(point);\n    }\n    const constrainedPoint = this.constrainPoint(point, this.innerCanvasSize);\n    const newX = Math.round((constrainedPoint.x / this.innerCanvasSize) * maxRange);\n    const newY = Math.round((constrainedPoint.y / this.innerCanvasSize) * maxRange);\n\n    if (event.shiftKey) {\n      this.model.setOffsetX(new CSSLength(newX, this.model.offsetX().unit || defaultUnit));\n      this.model.setOffsetY(new CSSLength(newY, this.model.offsetY().unit || defaultUnit));\n    } else {\n      if (!event.altKey) {\n        this.model.setOffsetX(new CSSLength(newX, this.model.offsetX().unit || defaultUnit));\n      }\n      if (!UI.KeyboardShortcut.KeyboardShortcut.eventHasCtrlEquivalentKey(event)) {\n        this.model.setOffsetY(new CSSLength(newY, this.model.offsetY().unit || defaultUnit));\n      }\n    }\n    this.xInput.value = this.model.offsetX().asCSSText();\n    this.yInput.value = this.model.offsetY().asCSSText();\n    this.xInput.classList.remove('invalid');\n    this.yInput.classList.remove('invalid');\n    this.updateCanvas(true);\n    this.dispatchEventToListeners(Events.ShadowChanged, this.model);\n  }\n\n  private onCanvasBlur(): void {\n    this.updateCanvas(false);\n  }\n\n  private onCanvasArrowKey(event: Event): void {\n    const keyboardEvent = (event as KeyboardEvent);\n    let shiftX = 0;\n    let shiftY = 0;\n    if (keyboardEvent.key === 'ArrowRight') {\n      shiftX = 1;\n    } else if (keyboardEvent.key === 'ArrowLeft') {\n      shiftX = -1;\n    } else if (keyboardEvent.key === 'ArrowUp') {\n      shiftY = -1;\n    } else if (keyboardEvent.key === 'ArrowDown') {\n      shiftY = 1;\n    }\n\n    if (!shiftX && !shiftY) {\n      return;\n    }\n    event.consume(true);\n\n    if (shiftX) {\n      const offsetX = this.model.offsetX();\n      const newAmount = Platform.NumberUtilities.clamp(offsetX.amount + shiftX, -maxRange, maxRange);\n      if (newAmount === offsetX.amount) {\n        return;\n      }\n      this.model.setOffsetX(new CSSLength(newAmount, offsetX.unit || defaultUnit));\n      this.xInput.value = this.model.offsetX().asCSSText();\n      this.xInput.classList.remove('invalid');\n    }\n    if (shiftY) {\n      const offsetY = this.model.offsetY();\n      const newAmount = Platform.NumberUtilities.clamp(offsetY.amount + shiftY, -maxRange, maxRange);\n      if (newAmount === offsetY.amount) {\n        return;\n      }\n      this.model.setOffsetY(new CSSLength(newAmount, offsetY.unit || defaultUnit));\n      this.yInput.value = this.model.offsetY().asCSSText();\n      this.yInput.classList.remove('invalid');\n    }\n    this.updateCanvas(true);\n    this.dispatchEventToListeners(Events.ShadowChanged, this.model);\n  }\n\n  private constrainPoint(point: UI.Geometry.Point, max: number): UI.Geometry.Point {\n    if (Math.abs(point.x) <= max && Math.abs(point.y) <= max) {\n      return new UI.Geometry.Point(point.x, point.y);\n    }\n    return point.scale(max / Math.max(Math.abs(point.x), Math.abs(point.y)));\n  }\n\n  private snapToClosestDirection(point: UI.Geometry.Point): UI.Geometry.Point {\n    let minDistance: number = Number.MAX_VALUE;\n    let closestPoint: UI.Geometry.Point = point;\n\n    const directions = [\n      new UI.Geometry.Point(0, -1), new UI.Geometry.Point(1, -1), new UI.Geometry.Point(1, 0),\n      new UI.Geometry.Point(1, 1),  // Southeast\n    ];\n\n    for (const direction of directions) {\n      const projection = point.projectOn(direction);\n      const distance = point.distanceTo(projection);\n      if (distance < minDistance) {\n        minDistance = distance;\n        closestPoint = projection;\n      }\n    }\n\n    return closestPoint;\n  }\n\n  private sliderThumbPosition(): UI.Geometry.Point {\n    const x = (this.model.offsetX().amount / maxRange) * this.innerCanvasSize;\n    const y = (this.model.offsetY().amount / maxRange) * this.innerCanvasSize;\n    return this.constrainPoint(new UI.Geometry.Point(x, y), this.innerCanvasSize);\n  }\n}\n\n// TODO(crbug.com/1167717): Make this a const enum again\n// eslint-disable-next-line rulesdir/const_enum\nexport enum Events {\n  ShadowChanged = 'ShadowChanged',\n}\n\nexport type EventTypes = {\n  [Events.ShadowChanged]: CSSShadowModel,\n};\n"],
  "mappings": "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",
  "names": []
}
