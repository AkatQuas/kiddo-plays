{
  "version": 3,
  "sources": ["../../../../../../../front_end/ui/legacy/utils/focus-changed.ts"],
  "sourcesContent": ["// Copyright 2019 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Platform from '../../../core/platform/platform.js';\n\n// TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction WidgetfocusWidgetForNode(node: Node|null): void {\n  while (node) {\n    if (node.__widget) {\n      break;\n    }\n\n    node = node.parentNodeOrShadowHost();\n  }\n  if (!node) {\n    return;\n  }\n\n  let widget = node.__widget;\n  while (widget && widget.parentWidget()) {\n    const parentWidget = widget.parentWidget();\n    if (!parentWidget) {\n      break;\n    }\n\n    parentWidget.defaultFocusedChild = widget;\n    widget = parentWidget;\n  }\n}\n\n// TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n// eslint-disable-next-line @typescript-eslint/naming-convention\nfunction XWidgetfocusWidgetForNode(node: Node|null): void {\n  node = node && node.parentNodeOrShadowHost();\n  const XWidgetCtor = customElements.get('x-widget');\n  let widget = null;\n  while (node) {\n    if (XWidgetCtor && node instanceof XWidgetCtor) {\n      if (widget) {\n        // TODO(crbug.com/1172300) Ignored during the jsdoc to ts migration\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (node as any).defaultFocusedElement = widget;\n      }\n      widget = node;\n    }\n    node = node.parentNodeOrShadowHost();\n  }\n}\n\nexport function focusChanged(event: Event): void {\n  const target = event.target as HTMLElement;\n  const document = target ? target.ownerDocument : null;\n  const element = document ? Platform.DOMUtilities.deepActiveElement(document) : null;\n  WidgetfocusWidgetForNode(element);\n  XWidgetfocusWidgetForNode(element);\n}\n"],
  "mappings": "AAIA;AAIA,kCAAkC,MAAuB;AACvD,SAAO,MAAM;AACX,QAAI,KAAK,UAAU;AACjB;AAAA;AAGF,WAAO,KAAK;AAAA;AAEd,MAAI,CAAC,MAAM;AACT;AAAA;AAGF,MAAI,SAAS,KAAK;AAClB,SAAO,UAAU,OAAO,gBAAgB;AACtC,UAAM,eAAe,OAAO;AAC5B,QAAI,CAAC,cAAc;AACjB;AAAA;AAGF,iBAAa,sBAAsB;AACnC,aAAS;AAAA;AAAA;AAMb,mCAAmC,MAAuB;AACxD,SAAO,QAAQ,KAAK;AACpB,QAAM,cAAc,eAAe,IAAI;AACvC,MAAI,SAAS;AACb,SAAO,MAAM;AACX,QAAI,eAAe,gBAAgB,aAAa;AAC9C,UAAI,QAAQ;AAGV,QAAC,KAAa,wBAAwB;AAAA;AAExC,eAAS;AAAA;AAEX,WAAO,KAAK;AAAA;AAAA;AAIT,6BAAsB,OAAoB;AAC/C,QAAM,SAAS,MAAM;AACrB,QAAM,WAAW,SAAS,OAAO,gBAAgB;AACjD,QAAM,UAAU,WAAW,SAAS,aAAa,kBAAkB,YAAY;AAC/E,2BAAyB;AACzB,4BAA0B;AAAA;",
  "names": []
}
