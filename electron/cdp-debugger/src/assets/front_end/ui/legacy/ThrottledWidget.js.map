{
  "version": 3,
  "sources": ["../../../../../../front_end/ui/legacy/ThrottledWidget.ts"],
  "sourcesContent": ["// Copyright 2014 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport {VBox} from './Widget.js';\n\nexport class ThrottledWidget extends VBox {\n  private readonly updateThrottler: Common.Throttler.Throttler;\n  private updateWhenVisible: boolean;\n\n  constructor(isWebComponent?: boolean, timeout?: number) {\n    super(isWebComponent);\n    this.updateThrottler = new Common.Throttler.Throttler(timeout === undefined ? 100 : timeout);\n    this.updateWhenVisible = false;\n  }\n\n  protected doUpdate(): Promise<void> {\n    return Promise.resolve();\n  }\n\n  update(): void {\n    this.updateWhenVisible = !this.isShowing();\n    if (this.updateWhenVisible) {\n      return;\n    }\n    void this.updateThrottler.schedule(() => {\n      if (this.isShowing()) {\n        return this.doUpdate();\n      }\n      this.updateWhenVisible = true;\n      return Promise.resolve();\n    });\n  }\n\n  wasShown(): void {\n    super.wasShown();\n    if (this.updateWhenVisible) {\n      this.update();\n    }\n  }\n}\n"],
  "mappings": "AAIA;AACA;AAEO,qCAA8B,KAAK;AAAA,EACvB;AAAA,EACT;AAAA,EAER,YAAY,gBAA0B,SAAkB;AACtD,UAAM;AACN,SAAK,kBAAkB,IAAI,OAAO,UAAU,UAAU,YAAY,SAAY,MAAM;AACpF,SAAK,oBAAoB;AAAA;AAAA,EAGjB,WAA0B;AAClC,WAAO,QAAQ;AAAA;AAAA,EAGjB,SAAe;AACb,SAAK,oBAAoB,CAAC,KAAK;AAC/B,QAAI,KAAK,mBAAmB;AAC1B;AAAA;AAEF,SAAK,KAAK,gBAAgB,SAAS,MAAM;AACvC,UAAI,KAAK,aAAa;AACpB,eAAO,KAAK;AAAA;AAEd,WAAK,oBAAoB;AACzB,aAAO,QAAQ;AAAA;AAAA;AAAA,EAInB,WAAiB;AACf,UAAM;AACN,QAAI,KAAK,mBAAmB;AAC1B,WAAK;AAAA;AAAA;AAAA;",
  "names": []
}
