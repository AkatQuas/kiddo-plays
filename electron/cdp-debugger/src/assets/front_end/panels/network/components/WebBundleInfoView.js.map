{
  "version": 3,
  "sources": ["../../../../../../../front_end/panels/network/components/WebBundleInfoView.ts"],
  "sourcesContent": ["// Copyright 2018 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../../core/common/common.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport type * as SDK from '../../../core/sdk/sdk.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as IconButton from '../../../ui/components/icon_button/icon_button.js';\nimport * as DataGrid from '../../../ui/components/data_grid/data_grid.js';\nimport {imageNameForResourceType} from '../../../panels/utils/utils.js';\nimport webBundleInfoViewStyles from './WebBundleInfoView.css.js';\n\nconst {render, html} = LitHtml;\n\nconst UIStrings = {\n  /**\n  *@description Header for the column that contains URL of the resource in a web bundle.\n  */\n  bundledResource: 'Bundled resource',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/network/components/WebBundleInfoView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nexport class WebBundleInfoView extends UI.Widget.VBox {\n  constructor(request: SDK.NetworkRequest.NetworkRequest) {\n    super();\n    const webBundleInfo = request.webBundleInfo();\n    if (!webBundleInfo) {\n      throw new Error('Trying to render a Web Bundle info without providing data');\n    }\n\n    const webBundleInfoElement = new WebBundleInfoElement(webBundleInfo, request.parsedURL.lastPathComponent);\n    this.contentElement.appendChild(webBundleInfoElement);\n    webBundleInfoElement.render();\n  }\n}\n\nexport class WebBundleInfoElement extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-web-bundle-info`;\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #webBundleInfo: Readonly<SDK.NetworkRequest.WebBundleInfo>;\n  #webBundleName: Readonly<string>;\n  constructor(webBundleInfo: SDK.NetworkRequest.WebBundleInfo, webBundleName: string) {\n    super();\n    this.#webBundleInfo = webBundleInfo;\n    this.#webBundleName = webBundleName;\n  }\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [webBundleInfoViewStyles];\n  }\n\n  render(): void {\n    const rows = this.#webBundleInfo.resourceUrls?.map(url => {\n      const mimeType = Common.ResourceType.ResourceType.mimeFromURL(url) || null;\n      const resourceType = Common.ResourceType.ResourceType.fromMimeTypeOverride(mimeType) ||\n          Common.ResourceType.ResourceType.fromMimeType(mimeType);\n      const iconName = imageNameForResourceType(resourceType);\n      return {\n        cells: [\n          {\n            columnId: 'url',\n            value: null,\n            renderer(): LitHtml.TemplateResult {\n              return html`\n                <div style=\"display: flex;\">\n                  <${IconButton.Icon.Icon.litTagName} class=\"icon\"\n                    .data=${{color: '', iconName, width: '18px'} as IconButton.Icon.IconData}>\n                  </${IconButton.Icon.Icon.litTagName}>\n                  <span>${url}</span>\n                </div>`;\n            },\n          },\n        ],\n      };\n    });\n    render(\n        html`\n      <div class=\"header\">\n        <${IconButton.Icon.Icon.litTagName} class=\"icon\"\n          .data=${{color: '', iconName: 'resourceWebBundle', width: '16px'} as IconButton.Icon.IconData}>\n        </${IconButton.Icon.Icon.litTagName}>\n        <span>${this.#webBundleName}</span>\n        <x-link href=\"https://web.dev/web-bundles/#explaining-web-bundles\">\n          <${IconButton.Icon.Icon.litTagName} class=\"icon\"\n            .data=${\n            {color: 'var(--color-text-secondary)', iconName: 'help_outline', width: '16px'} as\n            IconButton.Icon.IconData}>\n          </${IconButton.Icon.Icon.litTagName}>\n        </x-link>\n      </div>\n      <div>\n        <${DataGrid.DataGrid.DataGrid.litTagName}\n          .data=${{\n          columns: [\n            {\n              id: 'url',\n              title: i18nString(UIStrings.bundledResource),\n              widthWeighting: 1,\n              visible: true,\n              hideable: false,\n            },\n          ],\n          rows: rows,\n          activeSort: null,\n        } as DataGrid.DataGrid.DataGridData}>\n        </${DataGrid.DataGrid.DataGrid.litTagName}>\n      </div>`,\n        this.#shadow, {host: this});\n  }\n}\n\nComponentHelpers.CustomElements.defineComponent('devtools-web-bundle-info', WebBundleInfoElement);\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface HTMLElementTagNameMap {\n    'devtools-web-bundle-info': WebBundleInfoElement;\n  }\n}\n"],
  "mappings": "AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAM,EAAC,QAAQ,SAAQ;AAEvB,MAAM,YAAY;AAAA,EAIhB,iBAAiB;AAAA;AAEnB,MAAM,OAAO,KAAK,KAAK,kBAAkB,kDAAkD;AAC3F,MAAM,aAAa,KAAK,KAAK,mBAAmB,KAAK,QAAW;AACzD,uCAAgC,GAAG,OAAO,KAAK;AAAA,EACpD,YAAY,SAA4C;AACtD;AACA,UAAM,gBAAgB,QAAQ;AAC9B,QAAI,CAAC,eAAe;AAClB,YAAM,IAAI,MAAM;AAAA;AAGlB,UAAM,uBAAuB,IAAI,qBAAqB,eAAe,QAAQ,UAAU;AACvF,SAAK,eAAe,YAAY;AAChC,yBAAqB;AAAA;AAAA;AAIlB,0CAAmC,YAAY;AAAA,SACpC,aAAa,QAAQ;AAAA,YAClB,KAAK,aAAa,EAAC,MAAM;AAAA;AAAA;AAAA,EAG5C,YAAY,eAAiD,eAAuB;AAClF;AACA,0BAAsB;AACtB,0BAAsB;AAAA;AAAA,EAGxB,oBAA0B;AACxB,iBAAa,qBAAqB,CAAC;AAAA;AAAA,EAGrC,SAAe;AACb,UAAM,OAAO,oBAAoB,cAAc,IAAI,SAAO;AACxD,YAAM,WAAW,OAAO,aAAa,aAAa,YAAY,QAAQ;AACtE,YAAM,eAAe,OAAO,aAAa,aAAa,qBAAqB,aACvE,OAAO,aAAa,aAAa,aAAa;AAClD,YAAM,WAAW,yBAAyB;AAC1C,aAAO;AAAA,QACL,OAAO;AAAA,UACL;AAAA,YACE,UAAU;AAAA,YACV,OAAO;AAAA,YACP,WAAmC;AACjC,qBAAO;AAAA;AAAA,qBAEA,WAAW,KAAK,KAAK;AAAA,4BACd,EAAC,OAAO,IAAI,UAAU,OAAO;AAAA,sBACnC,WAAW,KAAK,KAAK;AAAA,0BACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOtB,WACI;AAAA;AAAA,WAEG,WAAW,KAAK,KAAK;AAAA,kBACd,EAAC,OAAO,IAAI,UAAU,qBAAqB,OAAO;AAAA,YACxD,WAAW,KAAK,KAAK;AAAA,gBACjB;AAAA;AAAA,aAEH,WAAW,KAAK,KAAK;AAAA,oBAEtB,EAAC,OAAO,+BAA+B,UAAU,gBAAgB,OAAO;AAAA,cAEtE,WAAW,KAAK,KAAK;AAAA;AAAA;AAAA;AAAA,WAIxB,SAAS,SAAS,SAAS;AAAA,kBACpB;AAAA,MACR,SAAS;AAAA,QACP;AAAA,UACE,IAAI;AAAA,UACJ,OAAO,WAAW,UAAU;AAAA,UAC5B,gBAAgB;AAAA,UAChB,SAAS;AAAA,UACT,UAAU;AAAA;AAAA;AAAA,MAGd;AAAA,MACA,YAAY;AAAA;AAAA,YAEV,SAAS,SAAS,SAAS;AAAA,eAE/B,cAAc,EAAC,MAAM;AAAA;AAAA;AAI7B,iBAAiB,eAAe,gBAAgB,4BAA4B;",
  "names": []
}
