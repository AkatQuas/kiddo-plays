{
  "version": 3,
  "sources": ["../../../../../../../front_end/panels/application/components/EndpointsGrid.ts"],
  "sourcesContent": ["// Copyright 2021 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as DataGrid from '../../../ui/components/data_grid/data_grid.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\n\nimport type * as Protocol from '../../../generated/protocol.js';\n\nimport reportingApiGridStyles from './reportingApiGrid.css.js';\n\nconst UIStrings = {\n  /**\n  *@description Placeholder text when there are no Reporting API endpoints.\n  *(https://developers.google.com/web/updates/2018/09/reportingapi#tldr)\n  */\n  noEndpointsToDisplay: 'No endpoints to display',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/application/components/EndpointsGrid.ts', UIStrings);\nexport const i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\nconst {render, html} = LitHtml;\n\nexport interface EndpointsGridData {\n  endpoints: Map<string, Protocol.Network.ReportingApiEndpoint[]>;\n}\n\nexport class EndpointsGrid extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-resources-endpoints-grid`;\n\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #endpoints: Map<string, Protocol.Network.ReportingApiEndpoint[]> = new Map();\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [reportingApiGridStyles];\n    this.#render();\n  }\n\n  set data(data: EndpointsGridData) {\n    this.#endpoints = data.endpoints;\n    this.#render();\n  }\n\n  #render(): void {\n    const endpointsGridData: DataGrid.DataGridController.DataGridControllerData = {\n      columns: [\n        {\n          id: 'origin',\n          title: i18n.i18n.lockedString('Origin'),\n          widthWeighting: 30,\n          hideable: false,\n          visible: true,\n        },\n        {\n          id: 'name',\n          title: i18n.i18n.lockedString('Name'),\n          widthWeighting: 20,\n          hideable: false,\n          visible: true,\n        },\n        {\n          id: 'url',\n          title: i18n.i18n.lockedString('URL'),\n          widthWeighting: 30,\n          hideable: false,\n          visible: true,\n        },\n      ],\n      rows: this.#buildReportRows(),\n    };\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    render(html`\n      <div class=\"reporting-container\">\n        <div class=\"reporting-header\">${i18n.i18n.lockedString('Endpoints')}</div>\n        ${this.#endpoints.size > 0 ? html`\n          <${DataGrid.DataGridController.DataGridController.litTagName} .data=${\n              endpointsGridData as DataGrid.DataGridController.DataGridControllerData}>\n          </${DataGrid.DataGridController.DataGridController.litTagName}>\n        ` : html`\n          <div class=\"reporting-placeholder\">\n            <div>${i18nString(UIStrings.noEndpointsToDisplay)}</div>\n          </div>\n        `}\n      </div>\n    `, this.#shadow, {host: this});\n    // clang-format on\n  }\n\n  #buildReportRows(): DataGrid.DataGridUtils.Row[] {\n    return Array.from(this.#endpoints)\n        .map(([origin, endpointArray]) => endpointArray.map(endpoint => {\n          return {\n            cells: [\n              {columnId: 'origin', value: origin},\n              {columnId: 'name', value: endpoint.groupName},\n              {columnId: 'url', value: endpoint.url},\n            ],\n          };\n        }))\n        .flat();\n  }\n}\n\nComponentHelpers.CustomElements.defineComponent('devtools-resources-endpoints-grid', EndpointsGrid);\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'devtools-resources-endpoints-grid': EndpointsGrid;\n  }\n}\n"],
  "mappings": "AAIA;AACA;AACA;AACA;AAIA;AAEA,MAAM,YAAY;AAAA,EAKhB,sBAAsB;AAAA;AAExB,MAAM,OAAO,KAAK,KAAK,kBAAkB,kDAAkD;AACpF,aAAM,aAAa,KAAK,KAAK,mBAAmB,KAAK,QAAW;AAEvE,MAAM,EAAC,QAAQ,SAAQ;AAMhB,mCAA4B,YAAY;AAAA,SAC7B,aAAa,QAAQ;AAAA,YAElB,KAAK,aAAa,EAAC,MAAM;AAAA,eACuB,oBAAI;AAAA,EAEvE,oBAA0B;AACxB,iBAAa,qBAAqB,CAAC;AACnC;AAAA;AAAA,MAGE,KAAK,MAAyB;AAChC,sBAAkB,KAAK;AACvB;AAAA;AAAA,YAGc;AACd,UAAM,oBAAwE;AAAA,MAC5E,SAAS;AAAA,QACP;AAAA,UACE,IAAI;AAAA,UACJ,OAAO,KAAK,KAAK,aAAa;AAAA,UAC9B,gBAAgB;AAAA,UAChB,UAAU;AAAA,UACV,SAAS;AAAA;AAAA,QAEX;AAAA,UACE,IAAI;AAAA,UACJ,OAAO,KAAK,KAAK,aAAa;AAAA,UAC9B,gBAAgB;AAAA,UAChB,UAAU;AAAA,UACV,SAAS;AAAA;AAAA,QAEX;AAAA,UACE,IAAI;AAAA,UACJ,OAAO,KAAK,KAAK,aAAa;AAAA,UAC9B,gBAAgB;AAAA,UAChB,UAAU;AAAA,UACV,SAAS;AAAA;AAAA;AAAA,MAGb,MAAM;AAAA;AAKR,WAAO;AAAA;AAAA,wCAE6B,KAAK,KAAK,aAAa;AAAA,UACrD,gBAAgB,OAAO,IAAI;AAAA,aACxB,SAAS,mBAAmB,mBAAmB,oBAC9C;AAAA,cACA,SAAS,mBAAmB,mBAAmB;AAAA,YACjD;AAAA;AAAA,mBAEO,WAAW,UAAU;AAAA;AAAA;AAAA;AAAA,OAIjC,cAAc,EAAC,MAAM;AAAA;AAAA,qBAIuB;AAC/C,WAAO,MAAM,KAAK,iBACb,IAAI,CAAC,CAAC,QAAQ,mBAAmB,cAAc,IAAI,cAAY;AAC9D,aAAO;AAAA,QACL,OAAO;AAAA,UACL,EAAC,UAAU,UAAU,OAAO;AAAA,UAC5B,EAAC,UAAU,QAAQ,OAAO,SAAS;AAAA,UACnC,EAAC,UAAU,OAAO,OAAO,SAAS;AAAA;AAAA;AAAA,QAIvC;AAAA;AAAA;AAIT,iBAAiB,eAAe,gBAAgB,qCAAqC;",
  "names": []
}
