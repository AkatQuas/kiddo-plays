{
  "version": 3,
  "sources": ["../../../../../../front_end/panels/application/InterestGroupStorageModel.ts"],
  "sourcesContent": ["/*\n * Copyright (C) 2021 Google Inc. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *     * Redistributions of source code must retain the above copyright\n * notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above\n * copyright notice, this list of conditions and the following disclaimer\n * in the documentation and/or other materials provided with the\n * distribution.\n *     * Neither the name of Google Inc. nor the names of its\n * contributors may be used to endorse or promote products derived from\n * this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport * as SDK from '../../core/sdk/sdk.js';\nimport type * as Protocol from '../../generated/protocol.js';\nimport type * as ProtocolProxyApi from '../../generated/protocol-proxy-api.js';\n\nexport class InterestGroupStorageModel extends SDK.SDKModel.SDKModel<EventTypes> implements\n    ProtocolProxyApi.StorageDispatcher {\n  private readonly storageAgent: ProtocolProxyApi.StorageApi;\n  private enabled?: boolean;\n\n  constructor(target: SDK.Target.Target) {\n    super(target);\n    target.registerStorageDispatcher(this);\n    this.storageAgent = target.storageAgent();\n    this.enabled = false;\n  }\n\n  enable(): void {\n    if (this.enabled) {\n      return;\n    }\n    void this.storageAgent.invoke_setInterestGroupTracking({enable: true});\n  }\n\n  disable(): void {\n    if (!this.enabled) {\n      return;\n    }\n    void this.storageAgent.invoke_setInterestGroupTracking({enable: false});\n  }\n\n  interestGroupAccessed(event: Protocol.Storage.InterestGroupAccessedEvent): void {\n    this.dispatchEventToListeners(Events.InterestGroupAccess, event);\n  }\n\n  indexedDBListUpdated(_event: Protocol.Storage.IndexedDBListUpdatedEvent): void {\n  }\n\n  indexedDBContentUpdated(_event: Protocol.Storage.IndexedDBContentUpdatedEvent): void {\n  }\n\n  cacheStorageListUpdated(_event: Protocol.Storage.CacheStorageListUpdatedEvent): void {\n  }\n\n  cacheStorageContentUpdated(_event: Protocol.Storage.CacheStorageContentUpdatedEvent): void {\n  }\n}\n\nSDK.SDKModel.SDKModel.register(\n    InterestGroupStorageModel, {capabilities: SDK.Target.Capability.Storage, autostart: false});\n\nexport const enum Events {\n  InterestGroupAccess = 'InterestGroupAccess',\n}\n\nexport type EventTypes = {\n  [Events.InterestGroupAccess]: Protocol.Storage.InterestGroupAccessedEvent,\n};\n"],
  "mappings": "AA8BA;AAIO,+CAAwC,IAAI,SAAS,SACrB;AAAA,EACpB;AAAA,EACT;AAAA,EAER,YAAY,QAA2B;AACrC,UAAM;AACN,WAAO,0BAA0B;AACjC,SAAK,eAAe,OAAO;AAC3B,SAAK,UAAU;AAAA;AAAA,EAGjB,SAAe;AACb,QAAI,KAAK,SAAS;AAChB;AAAA;AAEF,SAAK,KAAK,aAAa,gCAAgC,EAAC,QAAQ;AAAA;AAAA,EAGlE,UAAgB;AACd,QAAI,CAAC,KAAK,SAAS;AACjB;AAAA;AAEF,SAAK,KAAK,aAAa,gCAAgC,EAAC,QAAQ;AAAA;AAAA,EAGlE,sBAAsB,OAA0D;AAC9E,SAAK,yBAAyB,OAAO,qBAAqB;AAAA;AAAA,EAG5D,qBAAqB,QAA0D;AAAA;AAAA,EAG/E,wBAAwB,QAA6D;AAAA;AAAA,EAGrF,wBAAwB,QAA6D;AAAA;AAAA,EAGrF,2BAA2B,QAAgE;AAAA;AAAA;AAI7F,IAAI,SAAS,SAAS,SAClB,2BAA2B,EAAC,cAAc,IAAI,OAAO,WAAW,SAAS,WAAW;AAEjF,WAAW,SAAX,kBAAW,YAAX;AACL,mCAAsB;AADN;AAAA;",
  "names": []
}
