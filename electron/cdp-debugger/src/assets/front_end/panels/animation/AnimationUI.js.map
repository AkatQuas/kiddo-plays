{
  "version": 3,
  "sources": ["../../../../../../front_end/panels/animation/AnimationUI.ts"],
  "sourcesContent": ["// Copyright (c) 2015 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../core/common/common.js';\nimport * as i18n from '../../core/i18n/i18n.js';\nimport * as Platform from '../../core/platform/platform.js';\nimport * as InlineEditor from '../../ui/legacy/components/inline_editor/inline_editor.js';\n\nimport type * as SDK from '../../core/sdk/sdk.js';\nimport * as UI from '../../ui/legacy/legacy.js';\n\nimport type {AnimationImpl, KeyframeStyle} from './AnimationModel.js';\nimport type {AnimationTimeline} from './AnimationTimeline.js';\nimport {StepTimingFunction} from './AnimationTimeline.js';\n\nconst UIStrings = {\n  /**\n  *@description Title of the first and last points of an animation\n  */\n  animationEndpointSlider: 'Animation Endpoint slider',\n  /**\n  *@description Title of an Animation Keyframe point\n  */\n  animationKeyframeSlider: 'Animation Keyframe slider',\n  /**\n  *@description Title of an animation keyframe group\n  *@example {anilogo} PH1\n  */\n  sSlider: '{PH1} slider',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/animation/AnimationUI.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\n\ntype CachedElement = {\n  group: HTMLElement|null,\n  animationLine: HTMLElement|null,\n  keyframePoints: {[x: number]: HTMLElement},\n  keyframeRender: {[x: number]: HTMLElement},\n};\n\nexport class AnimationUI {\n  #animationInternal: AnimationImpl;\n  #timeline: AnimationTimeline;\n  #keyframes?: KeyframeStyle[];\n  #nameElement: HTMLElement;\n  readonly #svg: Element;\n  #activeIntervalGroup: Element;\n  #cachedElements: CachedElement[];\n  #movementInMs: number;\n  #keyboardMovementRateMs: number;\n  #color: string;\n  #node?: SDK.DOMModel.DOMNode|null;\n  #delayLine?: Element;\n  #endDelayLine?: Element;\n  #tailGroup?: Element;\n  #mouseEventType?: Events;\n  #keyframeMoved?: number|null;\n  #downMouseX?: number;\n\n  constructor(animation: AnimationImpl, timeline: AnimationTimeline, parentElement: Element) {\n    this.#animationInternal = animation;\n    this.#timeline = timeline;\n\n    const keyframesRule = this.#animationInternal.source().keyframesRule();\n    if (keyframesRule) {\n      this.#keyframes = keyframesRule.keyframes();\n    }\n    this.#nameElement = (parentElement.createChild('div', 'animation-name') as HTMLElement);\n    this.#nameElement.textContent = this.#animationInternal.name();\n\n    this.#svg = UI.UIUtils.createSVGChild(parentElement, 'svg', 'animation-ui');\n    this.#svg.setAttribute('height', Options.AnimationSVGHeight.toString());\n    (this.#svg as HTMLElement).style.marginLeft = '-' + Options.AnimationMargin + 'px';\n    this.#svg.addEventListener('contextmenu', this.onContextMenu.bind(this));\n    this.#activeIntervalGroup = UI.UIUtils.createSVGChild(this.#svg, 'g');\n    UI.UIUtils.installDragHandle(\n        this.#activeIntervalGroup, this.mouseDown.bind(this, Events.AnimationDrag, null), this.mouseMove.bind(this),\n        this.mouseUp.bind(this), '-webkit-grabbing', '-webkit-grab');\n    AnimationUI.installDragHandleKeyboard(\n        this.#activeIntervalGroup, this.keydownMove.bind(this, Events.AnimationDrag, null));\n\n    this.#cachedElements = [];\n\n    this.#movementInMs = 0;\n    this.#keyboardMovementRateMs = 50;\n    this.#color = AnimationUI.colorForAnimation(this.#animationInternal);\n  }\n\n  static colorForAnimation(animation: AnimationImpl): string {\n    const names = Array.from(Colors.keys());\n    const hashCode = Platform.StringUtilities.hashCode(animation.name() || animation.id());\n    const cappedHashCode = hashCode % names.length;\n    const colorName = names[cappedHashCode];\n    const color = Colors.get(colorName);\n    if (!color) {\n      throw new Error('Unable to locate color');\n    }\n    return color.asString(Common.Color.Format.RGB) || '';\n  }\n\n  static installDragHandleKeyboard(element: Element, elementDrag: (arg0: Event) => void): void {\n    element.addEventListener('keydown', elementDrag, false);\n  }\n\n  animation(): AnimationImpl {\n    return this.#animationInternal;\n  }\n\n  get nameElement(): HTMLElement {\n    return this.#nameElement;\n  }\n\n  get svg(): Element {\n    return this.#svg;\n  }\n\n  setNode(node: SDK.DOMModel.DOMNode|null): void {\n    this.#node = node;\n  }\n\n  private createLine(parentElement: HTMLElement, className: string): Element {\n    const line = UI.UIUtils.createSVGChild(parentElement, 'line', className);\n    line.setAttribute('x1', Options.AnimationMargin.toString());\n    line.setAttribute('y1', Options.AnimationHeight.toString());\n    line.setAttribute('y2', Options.AnimationHeight.toString());\n    (line as HTMLElement).style.stroke = this.#color;\n    return line;\n  }\n\n  private drawAnimationLine(iteration: number, parentElement: HTMLElement): void {\n    const cache = this.#cachedElements[iteration];\n    if (!cache.animationLine) {\n      cache.animationLine = (this.createLine(parentElement, 'animation-line') as HTMLElement);\n    }\n    if (!cache.animationLine) {\n      return;\n    }\n\n    cache.animationLine.setAttribute(\n        'x2', (this.duration() * this.#timeline.pixelMsRatio() + Options.AnimationMargin).toFixed(2));\n  }\n\n  private drawDelayLine(parentElement: HTMLElement): void {\n    if (!this.#delayLine || !this.#endDelayLine) {\n      this.#delayLine = this.createLine(parentElement, 'animation-delay-line');\n      this.#endDelayLine = this.createLine(parentElement, 'animation-delay-line');\n    }\n    const fill = this.#animationInternal.source().fill();\n    this.#delayLine.classList.toggle('animation-fill', fill === 'backwards' || fill === 'both');\n    const margin = Options.AnimationMargin;\n    this.#delayLine.setAttribute('x1', margin.toString());\n    this.#delayLine.setAttribute('x2', (this.delay() * this.#timeline.pixelMsRatio() + margin).toFixed(2));\n    const forwardsFill = fill === 'forwards' || fill === 'both';\n    this.#endDelayLine.classList.toggle('animation-fill', forwardsFill);\n    const leftMargin = Math.min(\n        this.#timeline.width(),\n        (this.delay() + this.duration() * this.#animationInternal.source().iterations()) *\n            this.#timeline.pixelMsRatio());\n    (this.#endDelayLine as HTMLElement).style.transform = 'translateX(' + leftMargin.toFixed(2) + 'px)';\n    this.#endDelayLine.setAttribute('x1', margin.toString());\n    this.#endDelayLine.setAttribute(\n        'x2',\n        forwardsFill ?\n            (this.#timeline.width() - leftMargin + margin).toFixed(2) :\n            (this.#animationInternal.source().endDelay() * this.#timeline.pixelMsRatio() + margin).toFixed(2));\n  }\n\n  private drawPoint(iteration: number, parentElement: Element, x: number, keyframeIndex: number, attachEvents: boolean):\n      void {\n    if (this.#cachedElements[iteration].keyframePoints[keyframeIndex]) {\n      this.#cachedElements[iteration].keyframePoints[keyframeIndex].setAttribute('cx', x.toFixed(2));\n      return;\n    }\n\n    const circle =\n        (UI.UIUtils.createSVGChild(\n             parentElement, 'circle', keyframeIndex <= 0 ? 'animation-endpoint' : 'animation-keyframe-point') as\n         HTMLElement);\n    circle.setAttribute('cx', x.toFixed(2));\n    circle.setAttribute('cy', Options.AnimationHeight.toString());\n    circle.style.stroke = this.#color;\n    circle.setAttribute('r', (Options.AnimationMargin / 2).toString());\n    circle.tabIndex = 0;\n    UI.ARIAUtils.setAccessibleName(\n        circle,\n        keyframeIndex <= 0 ? i18nString(UIStrings.animationEndpointSlider) :\n                             i18nString(UIStrings.animationKeyframeSlider));\n\n    if (keyframeIndex <= 0) {\n      circle.style.fill = this.#color;\n    }\n    this.#cachedElements[iteration].keyframePoints[keyframeIndex] = (circle as HTMLElement);\n\n    if (!attachEvents) {\n      return;\n    }\n\n    let eventType: Events;\n    if (keyframeIndex === 0) {\n      eventType = Events.StartEndpointMove;\n    } else if (keyframeIndex === -1) {\n      eventType = Events.FinishEndpointMove;\n    } else {\n      eventType = Events.KeyframeMove;\n    }\n    UI.UIUtils.installDragHandle(\n        circle, this.mouseDown.bind(this, eventType, keyframeIndex), this.mouseMove.bind(this), this.mouseUp.bind(this),\n        'ew-resize');\n    AnimationUI.installDragHandleKeyboard(circle, this.keydownMove.bind(this, eventType, keyframeIndex));\n  }\n\n  private renderKeyframe(\n      iteration: number, keyframeIndex: number, parentElement: HTMLElement, leftDistance: number, width: number,\n      easing: string): void {\n    function createStepLine(parentElement: HTMLElement, x: number, strokeColor: string): void {\n      const line = (UI.UIUtils.createSVGChild(parentElement, 'line') as HTMLElement);\n      line.setAttribute('x1', x.toString());\n      line.setAttribute('x2', x.toString());\n      line.setAttribute('y1', Options.AnimationMargin.toString());\n      line.setAttribute('y2', Options.AnimationHeight.toString());\n      line.style.stroke = strokeColor;\n    }\n\n    const bezier = UI.Geometry.CubicBezier.parse(easing);\n    const cache = this.#cachedElements[iteration].keyframeRender;\n    if (!cache[keyframeIndex]) {\n      const svg = bezier ? UI.UIUtils.createSVGChild(parentElement, 'path', 'animation-keyframe') :\n                           UI.UIUtils.createSVGChild(parentElement, 'g', 'animation-keyframe-step');\n      cache[keyframeIndex] = (svg as HTMLElement);\n    }\n    const group = cache[keyframeIndex];\n    group.tabIndex = 0;\n    UI.ARIAUtils.setAccessibleName(group, i18nString(UIStrings.sSlider, {PH1: this.#animationInternal.name()}));\n    group.style.transform = 'translateX(' + leftDistance.toFixed(2) + 'px)';\n\n    if (easing === 'linear') {\n      group.style.fill = this.#color;\n      const height = InlineEditor.BezierUI.Height;\n      group.setAttribute(\n          'd', ['M', 0, height, 'L', 0, 5, 'L', width.toFixed(2), 5, 'L', width.toFixed(2), height, 'Z'].join(' '));\n    } else if (bezier) {\n      group.style.fill = this.#color;\n      InlineEditor.BezierUI.BezierUI.drawVelocityChart(bezier, group, width);\n    } else {\n      const stepFunction = StepTimingFunction.parse(easing);\n      group.removeChildren();\n      const offsetMap: {[x: string]: number} = {'start': 0, 'middle': 0.5, 'end': 1};\n      if (stepFunction) {\n        const offsetWeight = offsetMap[stepFunction.stepAtPosition];\n        for (let i = 0; i < stepFunction.steps; i++) {\n          createStepLine(group, (i + offsetWeight) * width / stepFunction.steps, this.#color);\n        }\n      }\n    }\n  }\n\n  redraw(): void {\n    const maxWidth = this.#timeline.width() - Options.AnimationMargin;\n\n    this.#svg.setAttribute('width', (maxWidth + 2 * Options.AnimationMargin).toFixed(2));\n    (this.#activeIntervalGroup as HTMLElement).style.transform =\n        'translateX(' + (this.delay() * this.#timeline.pixelMsRatio()).toFixed(2) + 'px)';\n\n    this.#nameElement.style.transform =\n        'translateX(' + (this.delay() * this.#timeline.pixelMsRatio() + Options.AnimationMargin).toFixed(2) + 'px)';\n    this.#nameElement.style.width = (this.duration() * this.#timeline.pixelMsRatio()).toFixed(2) + 'px';\n    this.drawDelayLine((this.#svg as HTMLElement));\n\n    if (this.#animationInternal.type() === 'CSSTransition') {\n      this.renderTransition();\n      return;\n    }\n\n    this.renderIteration(this.#activeIntervalGroup, 0);\n    if (!this.#tailGroup) {\n      this.#tailGroup = UI.UIUtils.createSVGChild(this.#activeIntervalGroup, 'g', 'animation-tail-iterations');\n    }\n    const iterationWidth = this.duration() * this.#timeline.pixelMsRatio();\n    let iteration;\n    for (iteration = 1; iteration < this.#animationInternal.source().iterations() &&\n         iterationWidth * (iteration - 1) < this.#timeline.width() &&\n         (iterationWidth > 0 || this.#animationInternal.source().iterations() !== Infinity);\n         iteration++) {\n      this.renderIteration(this.#tailGroup, iteration);\n    }\n    while (iteration < this.#cachedElements.length) {\n      const poppedElement = this.#cachedElements.pop();\n      if (poppedElement && poppedElement.group) {\n        poppedElement.group.remove();\n      }\n    }\n  }\n\n  private renderTransition(): void {\n    const activeIntervalGroup = (this.#activeIntervalGroup as HTMLElement);\n    if (!this.#cachedElements[0]) {\n      this.#cachedElements[0] = {animationLine: null, keyframePoints: {}, keyframeRender: {}, group: null};\n    }\n    this.drawAnimationLine(0, activeIntervalGroup);\n    this.renderKeyframe(\n        0, 0, activeIntervalGroup, Options.AnimationMargin, this.duration() * this.#timeline.pixelMsRatio(),\n        this.#animationInternal.source().easing());\n    this.drawPoint(0, activeIntervalGroup, Options.AnimationMargin, 0, true);\n    this.drawPoint(\n        0, activeIntervalGroup, this.duration() * this.#timeline.pixelMsRatio() + Options.AnimationMargin, -1, true);\n  }\n\n  private renderIteration(parentElement: Element, iteration: number): void {\n    if (!this.#cachedElements[iteration]) {\n      this.#cachedElements[iteration] = {\n        animationLine: null,\n        keyframePoints: {},\n        keyframeRender: {},\n        group: (UI.UIUtils.createSVGChild(parentElement, 'g') as HTMLElement),\n      };\n    }\n    const group = this.#cachedElements[iteration].group;\n    if (!group) {\n      return;\n    }\n\n    group.style.transform =\n        'translateX(' + (iteration * this.duration() * this.#timeline.pixelMsRatio()).toFixed(2) + 'px)';\n    this.drawAnimationLine(iteration, group);\n    if (this.#keyframes && this.#keyframes.length > 1) {\n      for (let i = 0; i < this.#keyframes.length - 1; i++) {\n        const leftDistance = this.offset(i) * this.duration() * this.#timeline.pixelMsRatio() + Options.AnimationMargin;\n        const width = this.duration() * (this.offset(i + 1) - this.offset(i)) * this.#timeline.pixelMsRatio();\n        this.renderKeyframe(iteration, i, group, leftDistance, width, this.#keyframes[i].easing());\n        if (i || (!i && iteration === 0)) {\n          this.drawPoint(iteration, group, leftDistance, i, iteration === 0);\n        }\n      }\n    }\n    this.drawPoint(\n        iteration, group, this.duration() * this.#timeline.pixelMsRatio() + Options.AnimationMargin, -1,\n        iteration === 0);\n  }\n\n  private delay(): number {\n    let delay = this.#animationInternal.source().delay();\n    if (this.#mouseEventType === Events.AnimationDrag || this.#mouseEventType === Events.StartEndpointMove) {\n      delay += this.#movementInMs;\n    }\n    // FIXME: add support for negative start delay\n    return Math.max(0, delay);\n  }\n\n  private duration(): number {\n    let duration = this.#animationInternal.source().duration();\n    if (this.#mouseEventType === Events.FinishEndpointMove) {\n      duration += this.#movementInMs;\n    } else if (this.#mouseEventType === Events.StartEndpointMove) {\n      duration -= Math.max(this.#movementInMs, -this.#animationInternal.source().delay());\n      // Cannot have negative delay\n    }\n    return Math.max(0, duration);\n  }\n\n  private offset(i: number): number {\n    if (!this.#keyframes) {\n      throw new Error('Unable to calculate offset; keyframes do not exist');\n    }\n\n    let offset = this.#keyframes[i].offsetAsNumber();\n    if (this.#mouseEventType === Events.KeyframeMove && i === this.#keyframeMoved) {\n      console.assert(i > 0 && i < this.#keyframes.length - 1, 'First and last keyframe cannot be moved');\n      offset += this.#movementInMs / this.#animationInternal.source().duration();\n      offset = Math.max(offset, this.#keyframes[i - 1].offsetAsNumber());\n      offset = Math.min(offset, this.#keyframes[i + 1].offsetAsNumber());\n    }\n    return offset;\n  }\n\n  private mouseDown(mouseEventType: Events, keyframeIndex: number|null, event: Event): boolean {\n    const mouseEvent = (event as MouseEvent);\n    if (mouseEvent.buttons === 2) {\n      return false;\n    }\n    if (this.#svg.enclosingNodeOrSelfWithClass('animation-node-removed')) {\n      return false;\n    }\n    this.#mouseEventType = mouseEventType;\n    this.#keyframeMoved = keyframeIndex;\n    this.#downMouseX = mouseEvent.clientX;\n    event.consume(true);\n    if (this.#node) {\n      void Common.Revealer.reveal(this.#node);\n    }\n    return true;\n  }\n\n  private mouseMove(event: Event): void {\n    const mouseEvent = (event as MouseEvent);\n    this.setMovementAndRedraw((mouseEvent.clientX - (this.#downMouseX || 0)) / this.#timeline.pixelMsRatio());\n  }\n\n  private setMovementAndRedraw(movement: number): void {\n    this.#movementInMs = movement;\n    if (this.delay() + this.duration() > this.#timeline.duration() * 0.8) {\n      this.#timeline.setDuration(this.#timeline.duration() * 1.2);\n    }\n    this.redraw();\n  }\n\n  private mouseUp(event: Event): void {\n    const mouseEvent = (event as MouseEvent);\n    this.#movementInMs = (mouseEvent.clientX - (this.#downMouseX || 0)) / this.#timeline.pixelMsRatio();\n\n    // Commit changes\n    if (this.#mouseEventType === Events.KeyframeMove) {\n      if (this.#keyframes && this.#keyframeMoved !== null && typeof this.#keyframeMoved !== 'undefined') {\n        this.#keyframes[this.#keyframeMoved].setOffset(this.offset(this.#keyframeMoved));\n      }\n    } else {\n      this.#animationInternal.setTiming(this.duration(), this.delay());\n    }\n\n    this.#movementInMs = 0;\n    this.redraw();\n\n    this.#mouseEventType = undefined;\n    this.#downMouseX = undefined;\n    this.#keyframeMoved = undefined;\n  }\n\n  private keydownMove(mouseEventType: Events, keyframeIndex: number|null, event: Event): void {\n    const keyboardEvent = (event as KeyboardEvent);\n    this.#mouseEventType = mouseEventType;\n    this.#keyframeMoved = keyframeIndex;\n    switch (keyboardEvent.key) {\n      case 'ArrowLeft':\n      case 'ArrowUp':\n        this.#movementInMs = -this.#keyboardMovementRateMs;\n        break;\n      case 'ArrowRight':\n      case 'ArrowDown':\n        this.#movementInMs = this.#keyboardMovementRateMs;\n        break;\n      default:\n        return;\n    }\n    if (this.#mouseEventType === Events.KeyframeMove) {\n      if (this.#keyframes && this.#keyframeMoved !== null) {\n        this.#keyframes[this.#keyframeMoved].setOffset(this.offset(this.#keyframeMoved));\n      }\n    } else {\n      this.#animationInternal.setTiming(this.duration(), this.delay());\n    }\n    this.setMovementAndRedraw(0);\n\n    this.#mouseEventType = undefined;\n    this.#keyframeMoved = undefined;\n\n    event.consume(true);\n  }\n\n  private onContextMenu(event: Event): void {\n    function showContextMenu(remoteObject: SDK.RemoteObject.RemoteObject|null): void {\n      if (!remoteObject) {\n        return;\n      }\n      const contextMenu = new UI.ContextMenu.ContextMenu(event);\n      contextMenu.appendApplicableItems(remoteObject);\n      void contextMenu.show();\n    }\n\n    void this.#animationInternal.remoteObjectPromise().then(showContextMenu);\n    event.consume(true);\n  }\n}\n\nexport const enum Events {\n  AnimationDrag = 'AnimationDrag',\n  KeyframeMove = 'KeyframeMove',\n  StartEndpointMove = 'StartEndpointMove',\n  FinishEndpointMove = 'FinishEndpointMove',\n}\n\nexport const Options = {\n  AnimationHeight: 26,\n  AnimationSVGHeight: 50,\n  AnimationMargin: 7,\n  EndpointsClickRegionSize: 10,\n  GridCanvasHeight: 40,\n};\n\nexport const Colors = new Map<string, Common.Color.Color|null>([\n  ['Purple', Common.Color.Color.parse('#9C27B0')],\n  ['Light Blue', Common.Color.Color.parse('#03A9F4')],\n  ['Deep Orange', Common.Color.Color.parse('#FF5722')],\n  ['Blue', Common.Color.Color.parse('#5677FC')],\n  ['Lime', Common.Color.Color.parse('#CDDC39')],\n  ['Blue Grey', Common.Color.Color.parse('#607D8B')],\n  ['Pink', Common.Color.Color.parse('#E91E63')],\n  ['Green', Common.Color.Color.parse('#0F9D58')],\n  ['Brown', Common.Color.Color.parse('#795548')],\n  ['Cyan', Common.Color.Color.parse('#00BCD4')],\n]);\n"],
  "mappings": "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",
  "names": []
}
