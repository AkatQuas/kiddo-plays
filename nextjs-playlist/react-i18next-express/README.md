# Overview

You need a [server](./server.js) to initialize the `i18nextInstance` which can be accessed on client and server side.

The rest is how to  integrate the `i18next` with `next` using a [ComposedComponent](./lib/withI18next.js) which works like `withRouter` in `react-router` very much.

Almost, every components in pages needed to be wrapped in this `ComposedComponent`, which means a `Provider` may save us a lot of coding.

On fallback, you can use the `I18n` Component (imported from `react-i18next`), the exact same way we use in [the project](https://github.com/AkatQuas/react-playlist/tree/master/react-with-i18n) generated by `create-react-app`.

The server side i18next can take down the missing fields also, saving them to the `/locales/{{lng}}/{{namespace}}.missing.json`.

# A peek on usage

You can do lots of things with the `translate` function (aka, `t`). 

```json
{
    "key": "value of key",
    "look": {
        "deep": "value of look deep"
    }
}
```

```javascript
i18next.t('key');
// -> "value of key"
​
i18next.t('look.deep');
// -> "value of look deep"
```

You can also format them with dynamic values.

```json
{
    "key": "{{what}} is {{how}}",
    "key2": "I am {{author.name}}"
}
```

```javascript
i18next.t('key', { what: 'i18next', how: 'great' });
// -> "i18next is great"

const author = {
  name: 'kkk',
  github: 'AkatQuas'
}

i18next.t('key', { author });
// -> "I am kkk"
```

Using it with Array

```json
{
    "tree": {
        "res": "added {{something}}"
    },
    "array": ["a", "b", "c"],
    "arrayJoin": [
      "line1",
      "line2",
      "line3"
    ],
    "arrayJoinWithInterpolation": [
      "you",
      "can",
      "{{myVar}}"
    ],
}
```

```javascript
i18next.t('tree', { returnObjects: true, something: 'gold' });
// -> { res: 'added gold' }
​
i18next.t('array', { returnObjects: true });
// -> ['a', 'b', 'c']

i18next.t('arrayJoin', { joinArrays: '+' });
// -> "line1+line2+line3"

i18next.t('arrayJoinWithInterpolation', { myVar: 'interpolate', joinArrays: '->' });
// -> "you->can->interpolate"
```

# References

- [Original Project on GitHub](https://github.com/zeit/next.js/tree/canary/examples/with-react-i18next)

- [i18next with next, another](https://github.com/i18next/react-i18next/tree/master/example/nextjs-locize)

- [i18next with 'create-react-app' project](https://github.com/AkatQuas/react-playlist/tree/master/react-with-i18n)

